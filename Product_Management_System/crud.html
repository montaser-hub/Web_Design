<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Product Management System</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body class="light-mode">
    <!-- Default light mode -->

    <!-- Main Container for CRUD App -->
    <main class="crud light-mode">
      <!-- Container for content -->

      <!-- Header Section -->
      <header class="head light-mode">
        <!-- App Title -->
        <h1>Product Management System</h1>
        <p>Manage your product records efficiently</p>
        <button id="toggleTheme">
          <span id="themeIcon">ðŸŒž</span> Toggle Theme
        </button>
        <!-- Theme toggle button -->
      </header>

      <!-- Product Input Form Section -->
      <section class="inputs light-mode">
        <!-- Input fields for product data -->
        <h2>Add New Product</h2>
        <form id="productForm" autocomplete="off">
          <label for="title">Title</label>
          <!-- Product Title -->
          <input type="text" id="title" placeholder="Product Title" required />

          <!-- Pricing Details Section -->
          <fieldset class="price light-mode">
            <!-- Price-related inputs -->
            <legend>Pricing Details</legend>
            <input
              type="number"
              id="price"
              placeholder="Price"
              onkeyup="getTotal()"
              required
            />
            <input
              type="number"
              id="taxes"
              placeholder="Taxes"
              onkeyup="getTotal()"
              required
            />
            <input
              type="number"
              id="ads"
              placeholder="Ads"
              onkeyup="getTotal()"
              required
            />
            <input
              type="number"
              id="discount"
              placeholder="Discount"
              onkeyup="getTotal()"
            />
            <small id="total">Total: 0</small>
            <!-- Display total -->
          </fieldset>

          <!-- Category Input -->
          <label for="category">Category</label>
          <input
            type="text"
            id="category"
            placeholder="Product Category"
            required
          />
          <!-- Product Quantity -->
          <label for="count" id="countLabel">Count</label>
          <input type="number" id="count" placeholder="Quantity" required />

          <button type="submit" id="submit">Create</button>
          <!-- Submit Button -->
        </form>
      </section>

      <!-- Product Display and Management Section -->
      <section class="outputs light-mode">
        <!-- Display Products -->
        <h2>Manage Products</h2>

        <!-- Search Section -->
        <div class="searchBlock light-mode">
          <!-- Search functionality -->
          <label for="search">Search Products</label>
          <input
            type="text"
            id="search"
            placeholder="Search Products"
            onkeyup="searchProducts(this.value)"
          />
          <div class="btnSearch">
            <!-- Search by Title/Category -->
            <button
              type="button"
              id="searchTitle"
              onclick="setSearchMode('title')"
            >
              Search By Title
            </button>
            <button
              type="button"
              id="searchCategory"
              onclick="setSearchMode('category')"
            >
              Search By Category
            </button>
          </div>
        </div>

        <!-- Delete All Button Section -->
        <div id="deleteAll"></div>

        <!-- Product Table -->
        <table>
          <thead>
            <tr>
              <th>ID</th>
              <th>Title</th>
              <th>Price</th>
              <th>Taxes</th>
              <th>Ads</th>
              <th>Discount</th>
              <th>Total</th>
              <th>Category</th>
              <th>Update</th>
              <th>Delete</th>
            </tr>
          </thead>
          <tbody id="tbody"></tbody>
          <!-- Table body for dynamic rows -->
        </table>
      </section>
    </main>

    <!-- JavaScript for Theme Toggle and CRUD Functionality -->
    <script src="main.js"></script>
    <script>
      const toggleButton = document.getElementById("toggleTheme");
      const themeIcon = document.getElementById("themeIcon");

      toggleButton.addEventListener("click", function () {
        document.body.classList.toggle("dark-mode");
        document.body.classList.toggle("light-mode");
        const elements = document.querySelectorAll(
          ".crud, button, input, table, th, td, .price, .searchBlock"
        );
        elements.forEach((element) => {
          element.classList.toggle("dark-mode");
          element.classList.toggle("light-mode");
        });

        // Change the icon based on the theme
        if (document.body.classList.contains("dark-mode")) {
          themeIcon.textContent = "ðŸŒ™"; // Moon icon for dark mode
        } else {
          themeIcon.textContent = "ðŸŒž"; // Sun icon for light mode
        }
      });
    </script>
  </body>
</html>
